{"ast":null,"code":"var _jsxFileName = \"/Users/domsardina/Development/nfinite-test/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from 'react';\nimport { AppBar, Box, Button, Step, StepButton, Stepper, Toolbar, Typography } from '@mui/material';\nimport PageOne from './pages/PageOne';\nimport PageTwo from './pages/PageTwo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst steps = ['Products', 'Results'];\n\nconst App = () => {\n  _s();\n\n  const [jsonData, setJsonData] = useState({});\n  const [activeStep, setActiveStep] = useState(0);\n  const formEl = useRef();\n\n  const handleNext = async () => {\n    const formData = new FormData(formEl.current);\n    const formProps = Object.fromEntries(formData);\n    console.log('formProps', formProps);\n    let fileData = new FormData();\n    fileData.append('csvfile', e.target.files[0]);\n    await fetch('http://localhost:8000/upload', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      body: fileData\n    }).then(response => {\n      console.log('response', response);\n      response.json();\n    }).then(data => {\n      setJsonData(data === null || data === void 0 ? void 0 : data.json);\n      setActiveStep(activeStep + 1);\n    }).catch(error => console.log(error));\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleStep = step => () => {\n    setActiveStep(step);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    ref: formEl // action=\"http://localhost:8000/upload\"\n    // method=\"post\"\n    // encType=\"multipart/form-data\"\n    ,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              flexGrow: 1\n            },\n            children: \"nfinite - Product Upload Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: 'row',\n        margin: '40px auto',\n        pt: 2,\n        width: '60%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        color: \"inherit\",\n        disabled: activeStep === 0,\n        onClick: handleBack,\n        sx: {\n          mr: 1\n        },\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flex: '1 1 auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: activeStep === 1,\n        onClick: handleNext,\n        sx: {\n          mr: 1\n        },\n        children: \"Validate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        margin: '40px auto',\n        width: '40%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Stepper, {\n        activeStep: activeStep,\n        children: steps.map((label, index) => /*#__PURE__*/_jsxDEV(Step, {\n          children: /*#__PURE__*/_jsxDEV(StepButton, {\n            color: \"inherit\",\n            onClick: handleStep(index),\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), activeStep === 0 && /*#__PURE__*/_jsxDEV(PageOne, {\n      saveFunction: setJsonData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 28\n    }, this), activeStep === 1 && /*#__PURE__*/_jsxDEV(PageTwo, {\n      data: jsonData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"eQn0d+weTcYz5emn+03eMEKopNs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/domsardina/Development/nfinite-test/client/src/App.js"],"names":["useRef","useState","AppBar","Box","Button","Step","StepButton","Stepper","Toolbar","Typography","PageOne","PageTwo","steps","App","jsonData","setJsonData","activeStep","setActiveStep","formEl","handleNext","formData","FormData","current","formProps","Object","fromEntries","console","log","fileData","append","e","target","files","fetch","method","headers","body","then","response","json","data","catch","error","handleBack","prevActiveStep","handleStep","step","flexGrow","display","flexDirection","margin","pt","width","mr","flex","map","label","index"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react';\nimport {\n  AppBar,\n  Box,\n  Button,\n  Step,\n  StepButton,\n  Stepper,\n  Toolbar,\n  Typography,\n} from '@mui/material';\nimport PageOne from './pages/PageOne';\nimport PageTwo from './pages/PageTwo';\n\nconst steps = ['Products', 'Results'];\n\nconst App = () => {\n  const [jsonData, setJsonData] = useState({});\n  const [activeStep, setActiveStep] = useState(0);\n\n  const formEl = useRef();\n\n  const handleNext = async () => {\n    const formData = new FormData(formEl.current);\n    const formProps = Object.fromEntries(formData);\n\n    console.log('formProps', formProps);\n    let fileData = new FormData();\n    fileData.append('csvfile', e.target.files[0]);\n    await fetch('http://localhost:8000/upload', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      body: fileData,\n    })\n      .then((response) => {\n        console.log('response', response);\n        response.json();\n      })\n      .then((data) => {\n        setJsonData(data?.json);\n        setActiveStep(activeStep + 1);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleStep = (step) => () => {\n    setActiveStep(step);\n  };\n\n  return (\n    <form\n      ref={formEl}\n      // action=\"http://localhost:8000/upload\"\n      // method=\"post\"\n      // encType=\"multipart/form-data\"\n    >\n      <Box sx={{ flexGrow: 1 }}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n              nfinite - Product Upload Test\n            </Typography>\n          </Toolbar>\n        </AppBar>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'row',\n          margin: '40px auto',\n          pt: 2,\n          width: '60%',\n        }}\n      >\n        <Button\n          color=\"inherit\"\n          disabled={activeStep === 0}\n          onClick={handleBack}\n          sx={{ mr: 1 }}\n        >\n          Back\n        </Button>\n        <Box sx={{ flex: '1 1 auto' }} />\n        <Button disabled={activeStep === 1} onClick={handleNext} sx={{ mr: 1 }}>\n          Validate\n        </Button>\n      </Box>\n      <Box sx={{ margin: '40px auto', width: '40%' }}>\n        <Stepper activeStep={activeStep}>\n          {steps.map((label, index) => (\n            <Step key={label}>\n              <StepButton color=\"inherit\" onClick={handleStep(index)}>\n                {label}\n              </StepButton>\n            </Step>\n          ))}\n        </Stepper>\n      </Box>\n      {activeStep === 0 && <PageOne saveFunction={setJsonData} />}\n      {activeStep === 1 && <PageTwo data={jsonData} />}\n    </form>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}